# Cloudfront Terraform Deployment

This is deployment configuration for the Cloudfront module.

## Requirements

- [Terraform Command Line](https://learn.hashicorp.com/tutorials/terraform/install-cli)
- [AWS Command Line Interface](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html)
- Progammatic access (Acess Key / Secret Access Key) to an AWS Account with appropriate permissions to deploy resources

## Providers

- AWS Terraform provider
    - S3 backend to store terraform state file

## Inputs

- All the the required inputs are described in the [variables.tf](./variables.tf) file.

## Outputs

- All the the template outputs are described in the [outputs.tf](./outputs.tf) file.

<!-- END OF GENERATED BY TERRAFORM-DOCS -->

## Usage

From a command line:

### Configure environment variables

```shell
export AWS_ACCESS_KEY_ID=<access_key>
export AWS_SECRET_ACCESS_KEY=<secret_access_key>
export AWS_DEFAULT_REGION=<region>
```

### Backend Init
From the corresponding deployment sub-directory run:

```shell
terraform init -backend-config="../../config/backend.tfvars"
```
### Infrastructure Deployment
From the corresponding deployment sub-directory run:

```shell
terraform plan -var-file="../../config/global.tfvars" -var-file="../../config/cloudfront.tfvars" -out <deployment_plan_name>
terraform apply <deployment_plan_name>
```
### Infrastructure Destroy
From the corresponding deployment sub-directory run:

```shell
terraform destroy -var-file="../../config/global.tfvars" -var-file="../../config/cloudfront.tfvars"
```